<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link href="./package/leaflet/leaflet.min.css" rel="stylesheet">
  <script src="./package/leaflet/leaflet.min.js"></script>
  <style>
    .border {
      border: 1px solid red;
    }

    .form-box {
      display: flex;
      flex-wrap: wrap;
    }
    .form-box .form-item {
      width: 50%;
    }
    .form-box .form-item.full {
      width: 100%;
    }

    #container {
      width: 400px;
      background: linear-gradient(135deg, #1f2f54, #0f2c2a);
      overflow: hidden;
    }

    .header {
      height: 100px;
      background-color: rgba(0, 0, 0, .1);
      display: flex;
      align-items: center;
      padding: 0 26px;
      box-shadow: 0 0 16px rgba(0, 0, 0, .4);
    }
    .header .avatar {
      width: 64px;
      height: 64px;
    }
    .header .info {
      flex: 1;
      padding-left: 16px;
    }
    .header .info .name {
      color: #b0c7ff;
      font-size: 18px;
      font-weight: 600;
    }
    .header .info .tmp-id {
      color: #aaaaaa;
      font-size: 14px;
      margin-top: 4px;
    }
    .header .info .group {
      color: #ffffff;
      font-size: 12px;
      padding: 2px 4px;
      margin-left: 6px;
      border-radius: 4px;
    }

    .details-container {
      padding: 16px 20px 0 20px;
    }
    .details-container .form-item {
      background-color: rgba(0, 0, 0, 0.2);
      box-sizing: border-box;
    }
    .details-container .form-item:nth-child(1) {
      margin-top: 0;
    }
    .details-container .form-item .label {
      color: #dddddd;
      background-color: rgba(0, 0, 0, 0.2);
      padding: 4px 8px;
    }
    .details-container .form-item .value {
      color: #ffffff;
      padding: 4px 8px;
    }

    .ban-container {
      margin: 16px 20px;
      background-color: rgba(227, 92, 92, 0.3);
    }
    .ban-header {
      width: 100%;
      height: 30px;
      box-sizing: border-box;
      padding: 0 12px;
      color: #ffffff;
      font-size: 14px;
      line-height: 30px;
      background-color: rgba(227, 92, 92, 0.6);
    }
    .ban-body {
      padding: 12px 16px;
    }
    .ban-body .ban-hidden {
      color: #cccccc;
      font-size: 14px;
      font-style: italic;
      text-align: center;
    }
    .ban-body .form-item {
      margin-top: 8px;
    }
    .ban-body .form-item:nth-child(1),
    .ban-body .form-item:nth-child(2) {
      margin-top: 0;
    }
    .ban-body .form-item .label {
      color: #f3f3f3;
      font-size: 12px;
    }
    .ban-body .form-item .value {
      color: #eeeeee;
      font-size: 14px;
      word-wrap: break-word;
      word-break: break-all;
    }

    .position-container {
      margin: 16px 20px;
    }
    .position-container .position-header {
      width: 100%;
      height: 30px;
      box-sizing: border-box;
      padding: 0 12px;
      color: #ffffff;
      font-size: 14px;
      line-height: 30px;
      background-color: rgba(0, 0, 0, 0.4);
    }
    .position-container #map {
      width: 100%;
      height: 150px;
      background-color: rgba(0, 0, 0, 0.25);
    }
  </style>
</head>
<body>
  <!--
ğŸ†”TMPç¼–å·: 5672599
ğŸ˜€ç©å®¶åç§°: MakeKazakh
ğŸ®SteamID: 76561199225329400
ğŸ“‘æ³¨å†Œæ—¥æœŸ: 2024å¹´11æœˆ03æ—¥ (186å¤©)
ğŸ’¼æ‰€å±åˆ†ç»„: ç©å®¶
ğŸššæ‰€å±è½¦é˜Ÿ: Kazakhstan-Taraz Truckers
ğŸššè½¦é˜Ÿè§’è‰²: Owner
ğŸš«æ˜¯å¦å°ç¦: å¦
ğŸš«å°ç¦æ¬¡æ•°: 0
ğŸ“¶åœ¨çº¿çŠ¶æ€: åœ¨çº¿ğŸŸ¢ (Simulation 1)
ğŸŒçº¿ä¸Šä½ç½®: æ³•å›½ - åŠ è±-æœä¼Šæ–¯å ¡ -->
  <div id="container">
    <div class="header">
      <img class="avatar" src="https://static.truckersmp.com/avatarsN/4763167.1710207515.jpg" alt="avatar"/>
      <div class="info">
        <div class="name">*ACC* 014 kuroneko</div>
        <div class="tmp-id">TMP#4763167 <span class="group" style="background-color: #8bc34a">ç©å®¶</span></div>
      </div>
    </div>
    <div class="details-container">
      <div class="form-box">
        <div class="form-item full">
          <div class="label">ğŸ®SteamID</div>
          <div class="value">76561198354836885</div>
        </div>
        <div class="form-item full">
          <div class="label">ğŸ“‘æ³¨å†Œæ—¥æœŸ</div>
          <div class="value">2024å¹´12æœˆ18æ—¥</div>
        </div>
        <div class="form-item full">
          <div class="label">ğŸššæ‰€å±è½¦é˜Ÿ</div>
          <div class="value">Kazakhstan-Taraz Truckers</div>
        </div>
        <div class="form-item full">
          <div class="label">ğŸššè½¦é˜Ÿè§’è‰²</div>
          <div class="value">Owner</div>
        </div>
        <div class="form-item">
          <div class="label">ğŸèµåŠ©ç”¨æˆ·</div>
          <div class="value">$5</div>
        </div>
        <div class="form-item">
          <div class="label">ğŸç´¯è®¡èµåŠ©</div>
          <div class="value">$10</div>
        </div>
      </div>
    </div>
    <div class="position-container">
      <div class="position-header">Simulation 1 Â· æ³•å›½-åŠ è±-æœä¼Šæ–¯å ¡</div>
      <div id="map"></div>
    </div>
    <div class="ban-container">
      <div class="ban-header">å°ç¦ä¸­</div>
      <div class="ban-body">
<!--        <div class="ban-hidden">ç©å®¶éšè—</div>-->
        <div class="form-box">
          <div class="form-item">
            <div class="label">æˆªæ­¢æ—¶é—´</div>
            <div class="value">2025å¹´06æœˆ11æ—¥ 22:06</div>
          </div>
          <div class="form-item">
            <div class="label">å°ç¦æ¬¡æ•°</div>
            <div class="value">4æ¬¡</div>
          </div>
          <div class="form-item full">
            <div class="label">åŸå› </div>
            <div class="value">Â§2.2-ç¢°æ’ï¼ŒÂ§2.5-é²è½é©¾é©¶-https://youtu.be/f3T5m8bjRz0//ç”±äºå†å²åŸå› ï¼Œ3ä¸ªæœˆ</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    let mapConfig = {
      ets: {
        tileUrl: 'https://ets-map.oss-cn-beijing.aliyuncs.com/ets2/05102019/{z}/{x}/{y}.png',
        multipliers: {
          x: 71282,
          y: 56532
        },
        breakpoints: {
          uk: {
            x: -31056.8,
            y: -5832.867
          }
        },
        bounds: {
          y: 131072,
          x: 131072
        },
        maxZoom: 8,
        minZoom: 2,
        // æ¸¸æˆåœ°è½¬åœ°å›¾åæ ‡
        calculateMapCoordinate (x, y) {
          return [
            x / 1.325928 + mapConfig.ets.multipliers.x,
            y / 1.325928 + mapConfig.ets.multipliers.y
          ];
        }
      },
      promods: {
        tileUrl: 'https://ets-map.oss-cn-beijing.aliyuncs.com/promods/05102019/{z}/{x}/{y}.png',
        multipliers: {
          x: 51953,
          y: 76024
        },
        breakpoints: {
          uk: {
            x: -31056.8,
            y: -5832.867
          }
        },
        bounds: {
          y: 131072,
          x: 131072
        },
        maxZoom: 8,
        minZoom: 2,
        // æ¸¸æˆåœ°è½¬åœ°å›¾åæ ‡
        calculateMapCoordinate (x, y) {
          return [
            x / 2.598541 + mapConfig.promods.multipliers.x,
            y / 2.598541 + mapConfig.promods.multipliers.y
          ]
        }
      }
    }

    let data = {
      mapType: 'ets',
      centerX: -29602,
      centerY: -3370
    }

    // å®šä¹‰åœ°å›¾
    let map = L.map('map', {
      attributionControl: false,
      crs: L.CRS.Simple,
      zoomControl: false
    });

    // è¾¹ç•Œ
    let bounds = L.latLngBounds(
      map.unproject([0, mapConfig[data.mapType].bounds.y], mapConfig[data.mapType].maxZoom),
      map.unproject([mapConfig[data.mapType].bounds.x, 0], mapConfig[data.mapType].maxZoom)
    );

    // ç“¦ç‰‡åœ°å›¾
    L.tileLayer(mapConfig[data.mapType].tileUrl, {
      minZoom: 2,
      maxZoom: 10,
      maxNativeZoom: 8,
      tileSize: 512,
      bounds: bounds,
      reuseTiles: true
    }).addTo(map);
    map.setMaxBounds(
      new L.LatLngBounds(
        map.unproject([0, mapConfig[data.mapType].bounds.y], mapConfig[data.mapType].maxZoom),
        map.unproject([mapConfig[data.mapType].bounds.x, 0], mapConfig[data.mapType].maxZoom)
      )
    );

    L.circleMarker(map.unproject(mapConfig[data.mapType].calculateMapCoordinate(data.centerX, data.centerY), 8), {
      color: '#2f2f2f',       // æ ‡è®°ç‚¹è¾¹æ¡†é¢œè‰²
      weight: 2,              // æ ‡è®°ç‚¹è¾¹æ¡†å¤§å°
      fillColor: '#1cb715',   // æ ‡è®°ç‚¹å¡«å……é¢œè‰²
      fillOpacity: 1,         // æ ‡è®°ç‚¹å¡«å……ä¸é€æ˜åº¦ï¼ˆ0åˆ°1ä¹‹é—´çš„å€¼ï¼‰
      radius: 5,              // æ ‡è®°ç‚¹åŠå¾„ï¼ˆä»¥åƒç´ ä¸ºå•ä½ï¼‰
      zIndex: 1000
    }).addTo(map);

    // è®¾ç½®ä¸­å¿ƒç‚¹
    map.setView(map.unproject(mapConfig[data.mapType].calculateMapCoordinate(data.centerX, data.centerY), 8), 5);
  </script>
</body>
</html>
